{"ast":null,"code":"import { ref } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"TweetBar\",\n  setup() {\n    const postContent = ref(\"\");\n    async function submitPost() {\n      if (!postContent.value) {\n        alert(\"Please enter some content.\");\n        return;\n      }\n      try {\n        const response = await axios.get(\"http://localhost:3000/Posts\");\n        const posts = response.data;\n        const lastId = posts.length > 0 ? parseInt(posts[posts.length - 1].id) : 0;\n        const newId = lastId + 1;\n        const postData = {\n          id: newId.toString(),\n          content: postContent.value,\n          liked: false,\n          likes_count: 0,\n          comments_count: 0,\n          created_at: new Date().toISOString(),\n          user_id: \"1\"\n        };\n        await axios.post(\"http://localhost:3000/Posts\", postData);\n        postContent.value = \"\";\n      } catch (error) {\n        console.error(\"Error submitting post:\", error);\n        alert(\"Post submission failed.\");\n      }\n    }\n    return {\n      postContent,\n      submitPost\n    };\n  }\n};","map":{"version":3,"names":["ref","axios","name","setup","postContent","submitPost","value","alert","response","get","posts","data","lastId","length","parseInt","id","newId","postData","toString","content","liked","likes_count","comments_count","created_at","Date","toISOString","user_id","post","error","console"],"sources":["/Users/badrnejaa/Desktop/Tweety/src/components/TweetBar.vue"],"sourcesContent":["<template>\n  <!-- Tweet Bar -->\n  <nav class=\"p-4 border-[1px] border-[lightgray]\">\n    <div>\n      <form @submit.prevent=\"submitPost\">\n        <div class=\"flex my-3\">\n          <img\n            class=\"w-10 h-10 rounded-full\"\n            src=\"../assets/Profile.png\"\n            alt=\"\"\n          />\n          <div class=\"w-[70%]\">\n            <input\n              v-model=\"postContent\"\n              type=\"text\"\n              placeholder=\"What's happening?\"\n              class=\"w-full h-10 ml-5 pl-4 border-[1px] border-[lightgray] rounded-full\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            class=\"w-28 ml-10 p-2 bg-blue-500 text-white rounded-full\"\n          >\n            Tweet\n          </button>\n        </div>\n      </form>\n    </div>\n  </nav>\n</template>\n\n<style>\nnav {\n  border-left: none;\n  border-right: none;\n  height: fit-content;\n}\n</style>\n\n<script>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"TweetBar\",\n  setup() {\n    const postContent = ref(\"\");\n\n    async function submitPost() {\n      if (!postContent.value) {\n        alert(\"Please enter some content.\");\n        return;\n      }\n\n      try {\n        const response = await axios.get(\"http://localhost:3000/Posts\");\n        const posts = response.data;\n        const lastId =\n          posts.length > 0 ? parseInt(posts[posts.length - 1].id) : 0;\n        const newId = lastId + 1;\n\n        const postData = {\n          id: newId.toString(),\n          content: postContent.value,\n          liked: false,\n          likes_count: 0,\n          comments_count: 0,\n          created_at: new Date().toISOString(),\n          user_id: \"1\",\n        };\n\n        await axios.post(\"http://localhost:3000/Posts\", postData);\n\n        postContent.value = \"\";\n      } catch (error) {\n        console.error(\"Error submitting post:\", error);\n        alert(\"Post submission failed.\");\n      }\n    }\n\n    return {\n      postContent,\n      submitPost,\n    };\n  },\n};\n</script>\n"],"mappings":"AAyCA,SAASA,GAAE,QAAS,KAAK;AACzB,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,WAAU,GAAIJ,GAAG,CAAC,EAAE,CAAC;IAE3B,eAAeK,UAAUA,CAAA,EAAG;MAC1B,IAAI,CAACD,WAAW,CAACE,KAAK,EAAE;QACtBC,KAAK,CAAC,4BAA4B,CAAC;QACnC;MACF;MAEA,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMP,KAAK,CAACQ,GAAG,CAAC,6BAA6B,CAAC;QAC/D,MAAMC,KAAI,GAAIF,QAAQ,CAACG,IAAI;QAC3B,MAAMC,MAAK,GACTF,KAAK,CAACG,MAAK,GAAI,IAAIC,QAAQ,CAACJ,KAAK,CAACA,KAAK,CAACG,MAAK,GAAI,CAAC,CAAC,CAACE,EAAE,IAAI,CAAC;QAC7D,MAAMC,KAAI,GAAIJ,MAAK,GAAI,CAAC;QAExB,MAAMK,QAAO,GAAI;UACfF,EAAE,EAAEC,KAAK,CAACE,QAAQ,CAAC,CAAC;UACpBC,OAAO,EAAEf,WAAW,CAACE,KAAK;UAC1Bc,KAAK,EAAE,KAAK;UACZC,WAAW,EAAE,CAAC;UACdC,cAAc,EAAE,CAAC;UACjBC,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACpCC,OAAO,EAAE;QACX,CAAC;QAED,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,6BAA6B,EAAEV,QAAQ,CAAC;QAEzDb,WAAW,CAACE,KAAI,GAAI,EAAE;MACxB,EAAE,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CrB,KAAK,CAAC,yBAAyB,CAAC;MAClC;IACF;IAEA,OAAO;MACLH,WAAW;MACXC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}