{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/Profile.png';\nconst _hoisted_1 = {\n  class: \"p-4 border-[1px] border-[lightgray]\"\n};\nconst _hoisted_2 = {\n  class: \"flex my-3\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"w-10 h-10 rounded-full\",\n  src: _imports_0,\n  alt: \"\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"w-[70%]\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"w-28 ml-10 p-2 bg-blue-500 text-white rounded-full\"\n}, \" Tweet \", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Tweet Bar \"), _createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", null, [_createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $setup.submitPost && $setup.submitPost(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.postContent = $event),\n    type: \"text\",\n    placeholder: \"What's happening?\",\n    class: \"w-full h-10 ml-5 pl-4 border-[1px] border-[lightgray] rounded-full\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.postContent]])]), _hoisted_5])], 32 /* NEED_HYDRATION */)])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","type","_createElementBlock","_Fragment","_createCommentVNode","_hoisted_1","onSubmit","_cache","_withModifiers","args","$setup","submitPost","_hoisted_2","_hoisted_3","_hoisted_4","$event","postContent","placeholder","_hoisted_5"],"sources":["/Users/badrnejaa/Desktop/Tweety/src/components/TweetBar.vue"],"sourcesContent":["<template>\n  <!-- Tweet Bar -->\n  <nav class=\"p-4 border-[1px] border-[lightgray]\">\n    <div>\n      <form @submit.prevent=\"submitPost\">\n        <div class=\"flex my-3\">\n          <img\n            class=\"w-10 h-10 rounded-full\"\n            src=\"../assets/Profile.png\"\n            alt=\"\"\n          />\n          <div class=\"w-[70%]\">\n            <input\n              v-model=\"postContent\"\n              type=\"text\"\n              placeholder=\"What's happening?\"\n              class=\"w-full h-10 ml-5 pl-4 border-[1px] border-[lightgray] rounded-full\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            class=\"w-28 ml-10 p-2 bg-blue-500 text-white rounded-full\"\n          >\n            Tweet\n          </button>\n        </div>\n      </form>\n    </div>\n  </nav>\n</template>\n\n<style>\nnav {\n  border-left: none;\n  border-right: none;\n  height: fit-content;\n}\n</style>\n\n<script>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"TweetBar\",\n  setup() {\n    const postContent = ref(\"\");\n\n    async function submitPost() {\n      if (!postContent.value) {\n        alert(\"Please enter some content.\");\n        return;\n      }\n\n      try {\n        const response = await axios.get(\"http://localhost:3000/Posts\");\n        const posts = response.data;\n        const lastId =\n          posts.length > 0 ? parseInt(posts[posts.length - 1].id) : 0;\n        const newId = lastId + 1;\n\n        const postData = {\n          id: newId.toString(),\n          content: postContent.value,\n          liked: false,\n          likes_count: 0,\n          comments_count: 0,\n          created_at: new Date().toISOString(),\n          user_id: \"1\",\n        };\n\n        await axios.post(\"http://localhost:3000/Posts\", postData);\n\n        postContent.value = \"\";\n      } catch (error) {\n        console.error(\"Error submitting post:\", error);\n        alert(\"Post submission failed.\");\n      }\n    }\n\n    return {\n      postContent,\n      submitPost,\n    };\n  },\n};\n</script>\n"],"mappings":";OAQYA,UAA2B;;EANhCC,KAAK,EAAC;AAAqC;;EAGrCA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAIE;EAHAD,KAAK,EAAC,wBAAwB;EAC9BE,GAA2B,EAA3BH,UAA2B;EAC3BI,GAAG,EAAC;;;EAEDH,KAAK,EAAC;AAAS;gCASpBC,mBAAA,CAKS;EAJPG,IAAI,EAAC,QAAQ;EACbJ,KAAK,EAAC;GACP,SAED;;uBAzBVK,mBAAA,CAAAC,SAAA,SACEC,mBAAA,eAAkB,EAClBN,mBAAA,CA2BM,OA3BNO,UA2BM,GA1BJP,mBAAA,CAyBM,cAxBJA,mBAAA,CAuBO;IAvBAQ,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAJnBC,cAAA,KAAAC,IAAA,KAI6BC,MAAA,CAAAC,UAAA,IAAAD,MAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC/BX,mBAAA,CAqBM,OArBNc,UAqBM,GApBJC,UAIE,EACFf,mBAAA,CAOM,OAPNgB,UAOM,G,gBANJhB,mBAAA,CAKE;IAjBd,uBAAAS,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAauBL,MAAA,CAAAM,WAAW,GAAAD,MAAA;IACpBd,IAAI,EAAC,MAAM;IACXgB,WAAW,EAAC,mBAAmB;IAC/BpB,KAAK,EAAC;iDAHGa,MAAA,CAAAM,WAAW,E,KAOxBE,UAKS,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}